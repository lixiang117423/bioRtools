% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_lm_stats.R
\name{get_lm_stats}
\alias{get_lm_stats}
\alias{extract_lm_stats}
\title{Extract R-squared and P-value from Linear Model}
\usage{
get_lm_stats(model, r_squared_type = c("adjusted", "multiple"), digits = 3)

extract_lm_stats(model, r_squared_type = c("adjusted", "multiple"), digits = 3)
}
\arguments{
\item{model}{A fitted linear model object from \code{lm()} or compatible
modeling functions that have \code{summary()} and \code{anova()} methods.}

\item{r_squared_type}{Character string specifying which R-squared to extract.
Options are "adjusted" (default) or "multiple". The adjusted R-squared
is generally preferred as it accounts for the number of predictors.}

\item{digits}{Integer. Number of decimal places to round R-squared value.
Default is 3. Use NULL for no rounding.}
}
\value{
A data frame (tibble) with one row and two columns:
  \item{r_squared}{Adjusted (or multiple) R-squared value, optionally rounded}
  \item{p_value}{Overall model p-value from F-test}
}
\description{
Extract adjusted R-squared and overall model p-value from a fitted linear
model object. This is useful for adding statistics to plots or creating
summary tables of multiple models.
}
\details{
The function extracts:
\itemize{
  \item \strong{R-squared}: By default, adjusted R-squared which adjusts
    for the number of predictors. Can also extract multiple R-squared.
  \item \strong{P-value}: Overall model significance from the F-statistic
    in the ANOVA table. This tests whether at least one predictor is
    significantly related to the outcome.
}

For models without an F-statistic (e.g., some GLMs), the p-value will be NA.
}
\examples{
# Simple linear regression
model <- lm(mpg ~ wt, data = mtcars)
get_lm_stats(model)

# Multiple regression
model2 <- lm(mpg ~ wt + hp + cyl, data = mtcars)
get_lm_stats(model2)

# Get multiple R-squared instead of adjusted
get_lm_stats(model, r_squared_type = "multiple")

# No rounding
get_lm_stats(model, digits = NULL)

# More decimal places
get_lm_stats(model, digits = 5)

# Use in a plot annotation
library(ggplot2)
stats <- get_lm_stats(model)

ggplot(mtcars, aes(x = wt, y = mpg)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE) +
  annotate(
    "text",
    x = 4.5, y = 30,
    label = sprintf(
      "RÂ² = \%.3f\np = \%.4f",
      stats$r_squared,
      stats$p_value
    )
  )

# Compare multiple models
library(dplyr)
library(purrr)

models <- list(
  model1 = lm(mpg ~ wt, data = mtcars),
  model2 = lm(mpg ~ wt + hp, data = mtcars),
  model3 = lm(mpg ~ wt + hp + cyl, data = mtcars)
)

map_dfr(models, get_lm_stats, .id = "model")

}
\author{
Xiang LI \email{lixiang117423@foxmail.com}
}
